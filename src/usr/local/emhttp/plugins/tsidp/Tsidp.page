Menu="Utilities"
Title="Tailscale IDP"
Icon="tsidp.png"
---
<?php
require_once "/usr/local/emhttp/plugins/dynamix/include/Helpers.php";

$cfg = parse_plugin_cfg("tsidp");
?>

<form method="POST" action="/update.php" target="progressFrame" markdown="1">
<input type="hidden" name="#file" value="tsidp/tsidp.cfg">
<input type="hidden" name="#command" value="/usr/local/emhttp/plugins/tsidp/restart.sh">

_(Port)_:
: <input type="number" name="TSIDP_PORT" value="<?= htmlspecialchars($cfg['TSIDP_PORT'] ?? 9990); ?>" min="1" max="65535" step="1">

_(Allowed Hosts)_ (space separated):
: <input type="text" name="ALLOWED_HOSTS" value="<?= htmlspecialchars($cfg['ALLOWED_HOSTS']); ?>">

> Additional hosts (space-separated) that should be allowed for TSIDP.
> This is the name that you use to log in to the Unraid webUI (e.g. unraid.local).
> hostname.tailnet.ts.net is always allowed.

<!-- Form action buttons - Apply saves changes, Done returns to previous page -->
&nbsp;
: <span class="buttons-spaced">
    <input type="submit" value="_(Apply)_">
    <input type="button" value="_(Done)_" onclick="done()">
  </span>

</form>